apiVersion: v1
kind: ConfigMap
metadata:
  name: backend-config
  namespace: tgcatch
data:
  APP_NAME: "Telegram Lead Monitor"
  APP_VERSION: "1.0.0"
  DEBUG: "False"
  ENVIRONMENT: "production"
  HOST: "0.0.0.0"
  PORT: "8000"

  # Database (host и port, пароль в Secret)
  DB_HOST: "rc1d-f5izic6e4i1828zt.mdb.yandexcloud.net"
  DB_PORT: "6432"
  DB_NAME: "tgcatch-production"
  DB_USER: "tgcatch-production-user"

  # Redis (internal K8s service)
  REDIS_HOST: "redis-svc"
  REDIS_PORT: "6379"
  REDIS_DB: "0"

  # JWT
  ALGORITHM: "HS256"
  ACCESS_TOKEN_EXPIRE_MINUTES: "30"
  REFRESH_TOKEN_EXPIRE_DAYS: "7"

  # LLM
  LLM_API_URL: "https://llm.codenrock.com"
  LLM_MODEL: "gpt-5-mini"
  LLM_TIMEOUT: "120"

  # SMTP
  SMTP_HOST: "smtp.gmail.com"
  SMTP_PORT: "587"
  SMTP_FROM_EMAIL: "noreply@tgcatch.ru"
  SMTP_FROM_NAME: "TG Catch"

  # Frontend
  FRONTEND_URL: "https://tgcatch.ru"
  CORS_ORIGINS: '["https://tgcatch.ru"]'

  # Worker
  WORKER_INTERVAL_MINUTES: "1"

  # Backend URL (для Worker → Backend HTTP)
  BACKEND_URL: "http://backend-svc:8000"
